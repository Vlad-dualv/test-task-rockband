{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["// Get DOM elements\nconst mobileMenu = document.querySelector('.mobile-menu-wrapper');\nconst burgerButton = document.querySelector('.burger-menu');\nconst closeButton = document.querySelector('.mobile-menu-close-btn');\nconst menuLinks = document.querySelectorAll('.mobile-menu-link');\nconst contactForm = document.getElementById('contactForm');\nconst submitBtn = document.querySelector('.submit-button');\nconst buyTicketBtns = document.querySelectorAll('.buy-ticket');\n\nconst api = 'https://httpbin.org';\n\nfunction toggleModal() {\n  mobileMenu.classList.toggle('is-open');\n  document.body.classList.toggle('modal-open');\n}\n\nasync function buyTicket(e) {\n  const button = e.target;\n  const row = button.closest('.concert-row');\n  const location = row.querySelector('.concert-location').textContent;\n  const datetime = row.querySelector('.concert-date').textContent;\n\n  button.disabled = true;\n  button.textContent = '–û–±—Ä–æ–±–ª—è—î–º–æ...';\n\n  try {\n    const ticketData = {\n      id: crypto.randomUUID().slice(0, 10),\n      location: location,\n      datetime: datetime,\n    };\n\n    const queryString = new URLSearchParams(ticketData).toString();\n    const apiUrl = `${api}/get?${queryString}`;\n\n    const response = await fetch(apiUrl, {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        ContentType: 'application/json',\n      },\n    });\n\n    if (response.ok) {\n      const result = await response.json();\n      console.log('‚úÖTicket booking successful:', result);\n      alert(`üé´ –ö–≤–∏—Ç–æ–∫ —É—Å–ø—ñ—à–Ω–æ –∑–∞–±—Ä–æ–Ω—å–æ–≤–∞–Ω–æ!\n\n        üìç –ö–æ–Ω—Ü–µ—Ä—Ç: ${ticketData.location}\n        üìÖ –î–∞—Ç–∞: ${ticketData.datetime}\n        üéüÔ∏è –ù–æ–º–µ—Ä –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è: #${ticketData.id}`);\n\n      button.textContent = '‚úÖ –ó–∞–±—Ä–æ–Ω—å–æ–≤–∞–Ω–æ';\n      button.style.background = '#4cd964';\n      button.style.borderColor = '#4cd964';\n      button.disabled = true;\n    } else {\n      throw new Error('Server responded with an error');\n    }\n  } catch (error) {\n    console.error('‚ùå Ticket booking error:', error);\n    alert(`‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—ñ –∫–≤–∏—Ç–∫–∞!\n      –î–µ—Ç–∞–ª—ñ –ø–æ–º–∏–ª–∫–∏: ${error.message}\n      –ë—É–¥—å –ª–∞—Å–∫–∞, —Å–ø—Ä–æ–±—É–π—Ç–µ –ø—ñ–∑–Ω—ñ—à–µ –∞–±–æ –∑–≤'—è–∂—ñ—Ç—å—Å—è –∑ –Ω–∞–º–∏:\nüìß booking@grymgrim.com\nüìû +38 (099) 123-45-6`);\n\n    // Reset button state\n    button.textContent = '–ö—É–ø–∏—Ç–∏ –∫–≤–∏—Ç–æ–∫';\n    button.disabled = false;\n  }\n}\n\n// Event Listeners\nburgerButton.addEventListener('click', toggleModal);\ncloseButton.addEventListener('click', toggleModal);\n\nmenuLinks.forEach(link => {\n  link.addEventListener('click', toggleModal);\n});\n\nmobileMenu.addEventListener('click', e => {\n  if (e.target === mobileMenu) {\n    toggleModal();\n  }\n});\n\nbuyTicketBtns.forEach(btn => {\n  btn.addEventListener('click', buyTicket);\n});\n\n// Form submission handling\n\ncontactForm.addEventListener('submit', async e => {\n  e.preventDefault();\n  const originalText = submitBtn.innerHTML;\n  submitBtn.disabled = true;\n  submitBtn.innerHTML = '–í—ñ–¥–ø—Ä–∞–≤–ª—è—î–º–æ... <span class=\"loading\"></span>';\n  const formData = new FormData(contactForm);\n  const data = Object.fromEntries(formData);\n\n  const queryString = new URLSearchParams(data).toString();\n  const apiUrl = `${api}/get?${queryString}`;\n\n  try {\n    const response = await fetch(apiUrl, {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        ContentType: 'application/json',\n      },\n    });\n    if (response.ok) {\n      console.log(data);\n      alert('–î—è–∫—É—î–º–æ! –í–∞—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —É—Å–ø—ñ—à–Ω–æ –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ.');\n      contactForm.reset();\n    }\n  } catch (error) {\n    console.error('Error:', error);\n    alert('–í–∏–±–∞—á—Ç–µ, —Å—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤—ñ–¥–ø—Ä–∞–≤—Ü—ñ —Ñ–æ—Ä–º–∏. –°–ø—Ä–æ–±—É–π—Ç–µ –ø—ñ–∑–Ω—ñ—à–µ.');\n  } finally {\n    submitBtn.disabled = false;\n    submitBtn.innerHTML = originalText;\n  }\n});\n"],"names":["mobileMenu","burgerButton","closeButton","menuLinks","contactForm","submitBtn","buyTicketBtns","api","toggleModal","buyTicket","e","button","row","location","datetime","ticketData","queryString","apiUrl","response","result","error","link","btn","originalText","formData","data"],"mappings":"ssBACA,MAAMA,EAAa,SAAS,cAAc,sBAAsB,EAC1DC,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAc,SAAS,cAAc,wBAAwB,EAC7DC,EAAY,SAAS,iBAAiB,mBAAmB,EACzDC,EAAc,SAAS,eAAe,aAAa,EACnDC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAgB,SAAS,iBAAiB,aAAa,EAEvDC,EAAM,sBAEZ,SAASC,GAAc,CACrBR,EAAW,UAAU,OAAO,SAAS,EACrC,SAAS,KAAK,UAAU,OAAO,YAAY,CAC7C,CAEA,eAAeS,EAAUC,EAAG,CAC1B,MAAMC,EAASD,EAAE,OACXE,EAAMD,EAAO,QAAQ,cAAc,EACnCE,EAAWD,EAAI,cAAc,mBAAmB,EAAE,YAClDE,EAAWF,EAAI,cAAc,eAAe,EAAE,YAEpDD,EAAO,SAAW,GAClBA,EAAO,YAAc,gBAErB,GAAI,CACF,MAAMI,EAAa,CACjB,GAAI,OAAO,WAAU,EAAG,MAAM,EAAG,EAAE,EACnC,SAAUF,EACV,SAAUC,CAChB,EAEUE,EAAc,IAAI,gBAAgBD,CAAU,EAAE,SAAQ,EACtDE,EAAS,GAAGV,CAAG,QAAQS,CAAW,GAElCE,EAAW,MAAM,MAAMD,EAAQ,CACnC,OAAQ,MACR,QAAS,CACP,OAAQ,mBACR,YAAa,kBACd,CACP,CAAK,EAED,GAAIC,EAAS,GAAI,CACf,MAAMC,EAAS,MAAMD,EAAS,OAC9B,QAAQ,IAAI,8BAA+BC,CAAM,EACjD,MAAM;AAAA;AAAA,sBAEUJ,EAAW,QAAQ;AAAA,mBACtBA,EAAW,QAAQ;AAAA,iCACLA,EAAW,EAAE,EAAE,EAE1CJ,EAAO,YAAc,iBACrBA,EAAO,MAAM,WAAa,UAC1BA,EAAO,MAAM,YAAc,UAC3BA,EAAO,SAAW,EACxB,KACM,OAAM,IAAI,MAAM,gCAAgC,CAEnD,OAAQS,EAAO,CACd,QAAQ,MAAM,0BAA2BA,CAAK,EAC9C,MAAM;AAAA,wBACcA,EAAM,OAAO;AAAA;AAAA;AAAA,sBAGf,EAGlBT,EAAO,YAAc,gBACrBA,EAAO,SAAW,EACnB,CACH,CAGAV,EAAa,iBAAiB,QAASO,CAAW,EAClDN,EAAY,iBAAiB,QAASM,CAAW,EAEjDL,EAAU,QAAQkB,GAAQ,CACxBA,EAAK,iBAAiB,QAASb,CAAW,CAC5C,CAAC,EAEDR,EAAW,iBAAiB,QAASU,GAAK,CACpCA,EAAE,SAAWV,GACfQ,GAEJ,CAAC,EAEDF,EAAc,QAAQgB,GAAO,CAC3BA,EAAI,iBAAiB,QAASb,CAAS,CACzC,CAAC,EAIDL,EAAY,iBAAiB,SAAU,MAAMM,GAAK,CAChDA,EAAE,eAAc,EAChB,MAAMa,EAAelB,EAAU,UAC/BA,EAAU,SAAW,GACrBA,EAAU,UAAY,gDACtB,MAAMmB,EAAW,IAAI,SAASpB,CAAW,EACnCqB,EAAO,OAAO,YAAYD,CAAQ,EAElCR,EAAc,IAAI,gBAAgBS,CAAI,EAAE,SAAQ,EAChDR,EAAS,GAAGV,CAAG,QAAQS,CAAW,GAExC,GAAI,EACe,MAAM,MAAMC,EAAQ,CACnC,OAAQ,MACR,QAAS,CACP,OAAQ,mBACR,YAAa,kBACd,CACP,CAAK,GACY,KACX,QAAQ,IAAIQ,CAAI,EAChB,MAAM,+CAA+C,EACrDrB,EAAY,MAAK,EAEpB,OAAQgB,EAAO,CACd,QAAQ,MAAM,SAAUA,CAAK,EAC7B,MAAM,kEAAkE,CAC5E,QAAY,CACRf,EAAU,SAAW,GACrBA,EAAU,UAAYkB,CACvB,CACH,CAAC"}